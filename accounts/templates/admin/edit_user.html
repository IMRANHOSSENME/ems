{% extends 'admin/header.html' %}
{% load static %}

{% block title %}Edit User - {{ user.username }}{% endblock %}

{% block content %}

<div class="shadow-xl rounded-xl p-6 sm:p-8 bg-white w-full max-w-md mx-auto">
    <h1 class="text-2xl font-bold mb-6 text-center text-gray-800">Edit User - {{ user.username }}</h1>
    <form action="" method="POST" class="space-y-4">
        {% csrf_token %}

        <!-- First Name -->
        <div>
            <label for="first-name" class="block mb-1 text-gray-700 font-medium">First Name</label>
            <input type="text" id="first-name" name="first_name" value="{{ user.first_name }}"
                class="border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
        </div>

        <!-- Last Name -->
        <div>
            <label for="last-name" class="block mb-1 text-gray-700 font-medium">Last Name</label>
            <input type="text" id="last-name" name="last_name" value="{{ user.last_name }}"
                class="border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
        </div>

        <!-- Username -->
        <div>
            <label for="username" class="block mb-1 text-gray-700 font-medium">Username</label>
            <input type="text" id="username" name="username" value="{{ user.username }}"
                class="border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
        </div>

        <!-- Email -->
        <div>
            <label for="email" class="block mb-1 text-gray-700 font-medium">Email</label>
            <input type="email" id="email" name="email" value="{{ user.email }}"
                class="border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
        </div>

        <!-- Account Status -->
        <div class="flex items-center gap-4">
            <label class="flex items-center gap-2">
                <input type="checkbox" name="is_active" {% if user.is_active %}checked{% endif %}> Active
            </label>
            <label class="flex items-center gap-2">
                <input type="checkbox" name="is_staff" {% if user.is_staff %}checked{% endif %}> Staff
            </label>
            <label class="flex items-center gap-2">
                <input type="checkbox" name="is_superuser" {% if user.is_superuser %}checked{% endif %}> Superuser
            </label>
        </div>

        <!-- Role (Group) -->
        <div>
            <label class="block mb-1 text-gray-700 font-medium">Roles</label>
            <div class="flex flex-wrap gap-2">
                {% for group in groups %}
                <label class="flex items-center gap-2">
                    <input type="checkbox" name="groups" value="{{ group.id }}"
                        {% if group in user.groups.all %}checked{% endif %}>
                    {{ group.name }}
                </label>
                {% endfor %}
            </div>
        </div>

        <!-- Save Button -->
        <button type="submit"
            class="bg-blue-600 hover:bg-blue-700 text-white font-semibold p-2 rounded w-full transition">Update
            User</button>
    </form>
</div>
{% block footer %}
{% include 'footer.html' %}
{% endblock footer %}
{% endblock content %}