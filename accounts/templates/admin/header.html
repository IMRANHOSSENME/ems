{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
    <title>{% block title %}Dashboard{% endblock title %}</title>
</head>

<body class="bg-gray-100 overflow-x-hidden px-2 sm:px-4 md:px-8 lg:px-10 max-w-screen-2xl mx-auto">

    <!-- Header Section -->

    <header
        class="flex flex-col md:flex-row md:items-center md:justify-between p-4 bg-white shadow sticky top-0 z-50 w-full mx-auto">
        <div class="flex items-center justify-between w-full md:w-auto">
            <h1 class="text-xl sm:text-2xl font-bold text-gray-500">DASHBOARD</h1>
            <button id="nav-toggle" class="md:hidden text-2xl focus:outline-none ml-2">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 6.75h15m-15 5.25h15m-15 5.25h15" />
                </svg>
            </button>
        </div>
        <nav id="nav-menu"
            class="hidden flex-col md:flex md:flex-row md:items-center w-full md:w-auto mt-2 md:mt-0 bg-white md:bg-transparent absolute md:static left-0 top-16 md:top-0 z-40 md:z-auto border md:border-0 rounded md:rounded-none shadow md:shadow-none md:ml-8 transition-all duration-300">
            <a href="/accounts/admin/dashboard" class="block px-4 py-2 text-gray-700 hover:text-blue-600 md:mx-2">Dashboard</a>
            <a href="/events/create" class="block px-4 py-2 text-gray-700 hover:text-blue-600 md:mx-2">Add Event</a>
            <a href="/accounts/admin/add-user/" class="block px-4 py-2 text-gray-700 hover:text-blue-600 md:mx-2">Add User</a>
            <a href="/categories/create" class="block px-4 py-2 text-gray-700 hover:text-blue-600 md:mx-2">Add Category</a>
            <a href="{% url 'create_role' %}" class="block px-4 py-2 text-gray-700 hover:text-blue-600 md:mx-2">Add Role</a>
        </nav>
        <div class="flex items-center mt-2 md:mt-0 w-full md:w-auto justify-between md:justify-end md:space-x-4">
            <form method="get" action="#" class="flex items-center flex-1 md:flex-none md:mr-2">
                <label for="search" class="sr-only">Search</label>
                <input type="text" id="search" name="q" placeholder="Search..."
                    class="border border-gray-300 rounded-md p-2 w-full md:w-48" />
                <button type="submit" class="bg-blue-500 text-white rounded-md p-2 ml-2 hidden md:block">Search</button>
            </form>
            <div
                class="w-10 h-10 bg-blue-500 border border-blue-500 rounded-full ml-2 md:ml-0 overflow-hidden flex-shrink-0 flex items-center justify-center">
                <img src="{% static 'images/profiles/user01.png' %}" alt="User 1"
                    class="w-full h-full object-cover rounded-full min-w-8 min-h-8" />
            </div>
            <div class="relative ml-2 md:ml-0">
                <button id="user-menu-toggle"
                    class="flex items-center text-gray-700 hover:text-blue-600 focus:outline-none">
                    <span class="ml-2 font-semibold text-gray-700 hidden md:block">Admin</span>
                    <svg class="w-4 h-4 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <div id="user-menu"
                    class="hidden absolute right-0 md:right-0 mt-2 bg-white border border-gray-300 rounded shadow-md min-w-[150px]">
                    <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Profile</a>
                    <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Settings</a>
                    <button class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">
                        <a href="{% url 'signout' %}">Logout</a>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <script>
        // Toggle navigation menu for mobile view
        const navToggle = document.getElementById('nav-toggle');
        const navMenu = document.getElementById('nav-menu');
        if (navToggle) {
            navToggle.addEventListener('click', () => {
                navMenu.classList.toggle('hidden');
            });
        }

        // Close nav menu when clicking outside (mobile)
        document.addEventListener('click', function (e) {
            if (!navMenu.contains(e.target) && !navToggle.contains(e.target) && window.innerWidth < 768) {
                navMenu.classList.add('hidden');
            }
        });

        // Toggle user menu dropdown
        const userMenuToggle = document.getElementById('user-menu-toggle');
        const userMenu = document.getElementById('user-menu');
        if (userMenuToggle) {
            userMenuToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                userMenu.classList.toggle('hidden');
            });
        }
        // Close user menu when clicking outside
        document.addEventListener('click', function (e) {
            if (userMenu && !userMenu.contains(e.target) && !userMenuToggle.contains(e.target)) {
                userMenu.classList.add('hidden');
            }
        });
    </script>
    <!-- End of Header Section -->

    <main class="min-h-screen">
    {% block content %}
    {% endblock content %}
    </main>
</body>

</html>